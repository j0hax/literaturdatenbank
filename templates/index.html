{% extends "base.html" %}
{% block title %}Suchen{% endblock %}
{% block content %}
<form class="uk-form-horizontal uk-margin-large" action="/" method="post">

    <div class=" uk-margin">
        <label class="uk-form-label" for="title">Titel / Schlagwort(e)</label>
        <div class="uk-form-controls">
            <input class="uk-input" id="title" type="text" name="title"
                value="{{query[':title'] | replace({'%': ''})}}">
        </div>
    </div>

    <div class="uk-margin">
        <label class="uk-form-label" for="author">Autor</label>
        <div class="uk-form-controls">
            <input class="uk-input" id="author" type="text" name="author" value="*">
        </div>
    </div>

    <div class="uk-margin">
        <label class="uk-form-label" for="from">Jahr</label>
        <div class="uk-form-controls">
            <div class="uk-grid-small" uk-grid>
                <div class="uk-width-expand@m">
                    <input class="uk-input" id="from" type="number" name="beginyear" value="1900">
                </div>
                <div class="uk-width-auto@m">
                    -
                </div>
                <div class="uk-width-expand@m">
                    <input class="uk-input" id="to" type="number" name="endyear" value="2100">
                </div>
            </div>
        </div>
    </div>

    <div class="uk-margin">
        <label class="uk-form-label" for="form-horizontal-select">Art</label>
        <div class="uk-form-controls">
            <select class="uk-select" id="form-horizontal-select" name="pubtype">
                <option>Alles</option>
                <option>Abschlussarbeiten</option>
                <option>Buch</option>
                <option>Paper</option>
                <option>Poster</option>
                <option>Proceeding</option>
                <option>Vortrag</option>
            </select>
        </div>
    </div>

    <div class="uk-margin">
        <div class="uk-form-label">Such-Art</div>
        <div class="uk-form-controls uk-form-controls-text">
            <label><input class="uk-radio" type="radio" name="basic" checked> Titel und
                Abstract</label><br>
            <label><input class="uk-radio" type="radio" name="full"> Volltext (langsam)</label>
        </div>
    </div>

    <div class="uk-margin">
        <input type="submit" class="uk-button uk-button-primary">
    </div>
</form>

{% if publications is defined %}
<p><span uk-icon="database"></span> {{publications | length}} Ã¼bereinstimmungen in {{queryTime | number_format(4)}}
    Sekunden</p>

{% for pub in publications %}
<div class="uk-margin uk-card uk-card-default uk-card-hover" uk-scrollspy="cls:uk-animation-slide-right">
    <div class="uk-card-header">
        <h3 class="uk-card-title">{{ pub.title | title }}</h3>
        <h4 class="uk-text-meta">{{ pub.author }} ({{ pub.year }})</h4>
    </div>
    <div class="uk-card-body uk-text-justify">
        {% if pub.abstract is not empty %}
        {% else %}
        <i class="uk-text-meta">Keine Beschreibung vorhanden.</i>
        {% endif %}
    </div>
    {% if pub.keyword is not empty %}
    <div class="uk-card-footer">
        {% for keyword in pub.keyword | replace({';': ',', ':': ','}) | split(',') %}
        <span class="uk-badge">{{keyword | title}}</span>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endfor %}
{% endif %}
{% endblock %}